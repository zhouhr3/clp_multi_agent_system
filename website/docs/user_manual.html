<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户手册 - 唇腭裂多智能体系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">唇腭裂多智能体系统</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">首页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#features">功能特点</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#architecture">系统架构</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#agents">智能体介绍</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="../index.html#docs">文档</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#contact">联系我们</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 文档内容 -->
    <div class="container my-5">
        <div class="row">
            <div class="col-lg-3">
                <div class="doc-sidebar">
                    <h5 class="mb-3">目录</h5>
                    <nav class="nav flex-column">
                        <a class="nav-link" href="#intro">1. 系统简介</a>
                        <a class="nav-link" href="#installation">2. 系统安装</a>
                        <a class="nav-link" href="#usage">3. 系统使用</a>
                        <a class="nav-link" href="#features">4. 功能详解</a>
                        <a class="nav-link" href="#tips">5. 使用技巧</a>
                        <a class="nav-link" href="#faq">6. 常见问题</a>
                        <a class="nav-link" href="#privacy">7. 隐私和安全</a>
                        <a class="nav-link" href="#updates">8. 系统更新</a>
                        <a class="nav-link" href="#contact">9. 联系与支持</a>
                        <a class="nav-link" href="#appendix">10. 附录</a>
                    </nav>
                </div>
            </div>
            <div class="col-lg-9">
                <div class="doc-content">
                    <h1 class="mb-4">唇腭裂多智能体系统用户手册</h1>
                    
                    <section id="intro">
                        <h2>1. 系统简介</h2>
                        <p>唇腭裂多智能体系统是一个基于人工智能的医疗辅助决策系统，专门用于唇腭裂患者的诊断和治疗建议。系统集成了多个专科智能体，能够根据患者症状和特征，提供综合的诊断和治疗建议。</p>
                        
                        <h3 class="h4 mt-4">1.1 系统功能</h3>
                        <ul>
                            <li>区分综合征性和非综合征性唇腭裂</li>
                            <li>分析唇腭裂类型和严重程度</li>
                            <li>提供个性化治疗方案建议</li>
                            <li>协调多学科专家意见</li>
                            <li>集成外部医学知识库和文献资源</li>
                        </ul>
                        
                        <h3 class="h4 mt-4">1.2 适用人群</h3>
                        <p>本系统适用于：</p>
                        <ul>
                            <li>唇腭裂专科医生</li>
                            <li>儿科医生</li>
                            <li>整形外科医生</li>
                            <li>遗传咨询师</li>
                            <li>医学研究人员</li>
                            <li>医学院校学生</li>
                        </ul>
                        
                        <div class="alert alert-warning mt-3">
                            <strong>注意</strong>：本系统仅作为医疗辅助工具，最终诊断和治疗决策应由专业医生做出。
                        </div>
                    </section>
                    
                    <section id="installation" class="mt-5">
                        <h2>2. 系统安装</h2>
                        
                        <h3 class="h4 mt-4">2.1 系统要求</h3>
                        <ul>
                            <li>Python 3.10 或更高版本</li>
                            <li>至少 4GB RAM</li>
                            <li>互联网连接（用于API调用）</li>
                            <li>操作系统：Windows 10+, macOS 10.15+, 或 Linux (Ubuntu 20.04+推荐)</li>
                        </ul>
                        
                        <h3 class="h4 mt-4">2.2 安装步骤</h3>
                        <ol>
                            <li>
                                <p>克隆或下载系统代码：</p>
                                <div class="bg-light p-3 rounded my-3">
                                    <pre>git clone https://github.com/your-organization/cleft-multi-agent-system.git
cd cleft-multi-agent-system</pre>
                                </div>
                            </li>
                            <li>
                                <p>创建并激活虚拟环境：</p>
                                <div class="bg-light p-3 rounded my-3">
                                    <pre># 创建虚拟环境
python -m venv venv

# 激活虚拟环境
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate</pre>
                                </div>
                            </li>
                            <li>
                                <p>安装依赖：</p>
                                <div class="bg-light p-3 rounded my-3">
                                    <pre>pip install -r requirements.txt</pre>
                                </div>
                            </li>
                            <li>
                                <p>配置API密钥：</p>
                                <p>创建<code>.env</code>文件并添加以下内容：</p>
                                <div class="bg-light p-3 rounded my-3">
                                    <pre>OPENAI_API_KEY=your_openai_api_key
PUBMED_API_KEY=your_pubmed_api_key</pre>
                                </div>
                            </li>
                        </ol>
                    </section>
                    
                    <section id="usage" class="mt-5">
                        <h2>3. 系统使用</h2>
                        
                        <h3 class="h4 mt-4">3.1 启动系统</h3>
                        <p>启动Web界面：</p>
                        <div class="bg-light p-3 rounded my-3">
                            <pre>cd src
python ui.py</pre>
                        </div>
                        <p>系统将在本地启动Web服务器，通常在<code>http://localhost:7860</code>。</p>
                        
                        <h3 class="h4 mt-4">3.2 患者分析</h3>
                        <ol>
                            <li>打开浏览器访问系统Web界面</li>
                            <li>选择"患者分析"选项卡</li>
                            <li>填写患者信息：
                                <ul>
                                    <li>年龄：填写患者年龄，如"6个月"</li>
                                    <li>性别：选择"男"或"女"</li>
                                    <li>症状：填写患者症状，用逗号分隔，如"唇裂,腭裂,下唇凹陷"</li>
                                    <li>病史：填写患者病史，如"足月顺产，无其他异常"</li>
                                    <li>家族史：填写患者家族史，如"无家族史"或"父亲有下唇凹陷"</li>
                                </ul>
                            </li>
                            <li>点击"分析患者"按钮</li>
                            <li>系统将在右侧显示分析结果</li>
                        </ol>
                        
                        <div class="text-center my-4">
                            <img src="../images/patient_analysis.png" alt="患者分析界面" class="img-fluid rounded shadow">
                            <p class="text-muted mt-2">患者分析界面</p>
                        </div>
                        
                        <h3 class="h4 mt-4">3.3 治疗指南查询</h3>
                        <ol>
                            <li>选择"治疗指南"选项卡</li>
                            <li>选择综合征类型：
                                <ul>
                                    <li>non_syndromic_cleft_lip：非综合征性唇裂</li>
                                    <li>non_syndromic_cleft_palate：非综合征性腭裂</li>
                                    <li>van_der_woude_syndrome：Van der Woude综合征</li>
                                </ul>
                            </li>
                            <li>点击"获取治疗指南"按钮</li>
                            <li>系统将在右侧显示治疗指南</li>
                        </ol>
                        
                        <div class="text-center my-4">
                            <img src="../images/treatment_guidelines.png" alt="治疗指南界面" class="img-fluid rounded shadow">
                            <p class="text-muted mt-2">治疗指南界面</p>
                        </div>
                        
                        <h3 class="h4 mt-4">3.4 医学文献搜索</h3>
                        <ol>
                            <li>选择"医学文献搜索"选项卡</li>
                            <li>填写搜索关键词，如"Van der Woude syndrome treatment"</li>
                            <li>调整最大结果数（1-10）</li>
                            <li>点击"搜索文献"按钮</li>
                            <li>系统将在右侧显示搜索结果</li>
                        </ol>
                        
                        <div class="text-center my-4">
                            <img src="../images/literature_search.png" alt="医学文献搜索界面" class="img-fluid rounded shadow">
                            <p class="text-muted mt-2">医学文献搜索界面</p>
                        </div>
                    </section>
                    
                    <section id="features" class="mt-5">
                        <h2>4. 功能详解</h2>
                        
                        <h3 class="h4 mt-4">4.1 患者分析</h3>
                        <p>患者分析功能会根据输入的患者信息，自动判断是否为综合征性唇腭裂，并招募相关专科智能体进行分析。</p>
                        
                        <p>分析结果通常包括：</p>
                        <ol>
                            <li><strong>综合征判断</strong>：判断是非综合征性还是综合征性唇腭裂，如果是综合征性，会给出可能的综合征名称</li>
                            <li><strong>唇腭裂分类</strong>：如单侧/双侧，完全/不完全</li>
                            <li><strong>严重程度评估</strong></li>
                            <li><strong>治疗建议</strong>：包括手术时机、方法和术后护理</li>
                            <li><strong>多学科会诊建议</strong>：如需要正畸、语言治疗等</li>
                            <li><strong>随访计划</strong></li>
                        </ol>
                        
                        <div class="card mb-4">
                            <div class="card-header">
                                示例输入
                            </div>
                            <div class="card-body">
                                <ul class="mb-0">
                                    <li>年龄：6个月</li>
                                    <li>性别：男</li>
                                    <li>症状：唇裂,腭裂</li>
                                    <li>病史：足月顺产，无其他异常</li>
                                    <li>家族史：无家族史</li>
                                </ul>
                            </div>
                        </div>
                        
                        <h3 class="h4 mt-4">4.2 治疗指南</h3>
                        <p>治疗指南功能提供标准化的唇腭裂治疗方案，包括：</p>
                        <ol>
                            <li><strong>手术时机</strong>：不同年龄段推荐的手术时间</li>
                            <li><strong>手术方法</strong>：推荐的手术技术</li>
                            <li><strong>术前准备</strong>：手术前的准备工作</li>
                            <li><strong>术后护理</strong>：手术后的护理要点</li>
                            <li><strong>随访计划</strong>：长期随访建议</li>
                            <li><strong>参考文献</strong>：治疗指南的参考依据</li>
                        </ol>
                        
                        <h3 class="h4 mt-4">4.3 医学文献搜索</h3>
                        <p>医学文献搜索功能可以检索与唇腭裂相关的最新研究文献，搜索结果包括：</p>
                        <ol>
                            <li><strong>文献标题</strong></li>
                            <li><strong>作者信息</strong></li>
                            <li><strong>发表日期</strong></li>
                            <li><strong>期刊名称</strong></li>
                            <li><strong>摘要内容</strong></li>
                            <li><strong>PubMed ID</strong></li>
                            <li><strong>DOI链接</strong></li>
                        </ol>
                    </section>
                    
                    <section id="tips" class="mt-5">
                        <h2>5. 使用技巧</h2>
                        
                        <h3 class="h4 mt-4">5.1 提高分析准确性</h3>
                        <div class="card mb-4">
                            <div class="card-body">
                                <ol class="mb-0">
                                    <li><strong>提供详细症状</strong>：尽可能详细描述患者症状，包括唇腭裂类型、伴随症状等</li>
                                    <li><strong>完整病史</strong>：提供完整的出生史、发育史和既往史</li>
                                    <li><strong>家族史信息</strong>：详细描述家族中是否有类似症状或其他遗传病史</li>
                                    <li><strong>年龄准确性</strong>：准确填写患者年龄，因为不同年龄段的治疗建议可能不同</li>
                                </ol>
                            </div>
                        </div>
                        
                        <h3 class="h4 mt-4">5.2 解读分析结果</h3>
                        <div class="card mb-4">
                            <div class="card-body">
                                <ol class="mb-0">
                                    <li><strong>综合征可能性</strong>：系统给出的综合征判断是基于症状匹配的可能性，需要结合临床检查和遗传检测确认</li>
                                    <li><strong>治疗建议优先级</strong>：治疗建议通常按照时间顺序和重要性排序</li>
                                    <li><strong>多学科建议</strong>：注意系统可能建议多个专科会诊，应综合考虑</li>
                                </ol>
                            </div>
                        </div>
                        
                        <h3 class="h4 mt-4">5.3 批量处理</h3>
                        <p>对于需要分析多个患者的情况，可以使用系统的API接口进行批量处理：</p>
                        <div class="bg-light p-3 rounded my-3">
                            <pre>
import asyncio
from src.main import CLPAgentSystem

async def batch_process(patient_list):
    system = CLPAgentSystem()
    await system.initialize()
    
    results = []
    for patient in patient_list:
        result = await system.analyze_patient(patient)
        results.append(result)
    
    await system.close()
    return results

# 使用示例
patients = [
    {
        "age": "6个月",
        "gender": "男",
        "symptoms": ["唇裂", "腭裂"],
        "medical_history": "足月顺产，无其他异常",
        "family_history": "无家族史"
    },
    {
        "age": "8个月",
        "gender": "女",
        "symptoms": ["唇裂", "腭裂", "下唇凹陷"],
        "medical_history": "足月顺产，发现唇腭裂和下唇凹陷",
        "family_history": "父亲有下唇凹陷"
    }
]

results = asyncio.run(batch_process(patients))
                            </pre>
                        </div>
                    </section>
                    
                    <section id="faq" class="mt-5">
                        <h2>6. 常见问题</h2>
                        
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                                        系统无法启动
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        <p><strong>问题</strong>：运行<code>python ui.py</code>后系统<response clipped><NOTE>To save on context only part of this file has been shown to you. You should retry this tool after you have searched inside the file with `grep -n` in order to find the line numbers of what you are looking for.</NOTE>